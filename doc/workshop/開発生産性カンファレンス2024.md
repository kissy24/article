# 開発生産性カンファレンス

## 価値創造と開発生産性

- pdmのやるべきこと
    - ゲームに勝てるようにする
    - フィールドに集中させる。
- 開発生産性
    - 開発者生産性とは違う？
    - 物的？付加価値？
- fourkeys
    - デリバリーに焦点
    - 生産性ではなくパフォーマンス？
- space
    - 開発者生産性
    - 開発者の活動を数値化するのは無理
    - パフォーマンスを定量化するのはこんなんです
- mckinsey
    - dora/space色々着色
    - 吉羽さんは微妙と
- 開発者とマネージャーの生産性の考え方が一致してない。
    - 開発者はアクティビティ
    - マネージャーはパフォーマンス
- spaceにはアウトカムを入れている
- 生産性、開発生産性、開発者生産性、パフォーマンスなどの意味が人によってバラバラ
- 定義を揃えろ！！
- 違うチームの比較には使えない
- 単純な時間の使い方だけだと良し悪しは分からない
- コンテキストが先、数字が後！
- 個人単位で計測すると…
- 何よりも価値を創造できているかを測るべき。
    - 価値は自分たちで定義
    - pdmはしつこく何度でも伝える
- ある期間内に何をフォーカスすべきか？
- ゴールを達成できたか検査する
- ゴールの達成が目指すべきところ
- コードに書いてない時間も本質に向き合ってるならそれはあり

## 価値のある機能をユーザーに早く届けるための大企業エンジニアの挑戦

バリューストリームマップ

余裕を持った期間で見積もりとデリバリーが遅くなる。期日までゆっくりやってしまう。。

企画チームとエンジニアチームで分かれていると企画チームの意向が強くなってしまう。

企画にもエンジニアが参画する。

インタビューやリサーチをやる。

開発チームから運用チームに引き渡す。誰でもできる手順書を用意したりするのに時間がかかる。

リリースまでに数ヶ月かかる。。

自動化が秘伝のタレになってしまっている。

チートポやってる。イネイブリングをしっかりやる。

上記のことをやっても出来なかった。マーケットの需要とのズレで前提崩壊してしまう。

## マイクロサービスの現場からプラットフォームエンジニアリングの可能性を探る

事業インパクトのある開発生産性

生産性=アウトプット+インプット

開発生産性(デリバリ速度・頻度)を改善することでPDCAが高速になる

既存のプロダクトの知見を横展開できれば素早く価値提供できる。

bizサイドの施策を支えるための開発生産性

認知不可を減らすために、プラットフォームエンジニアリングしていく。

マイクロサービスのデプロイ容易性と組織に絡む部分を見ていく。

- 組織間の知見共有が難しい
- 車輪の再発明が起きやすい

マルチプロダクトをやっていると、プロダクトチーム間に溝がある。標準化されてない知見がたくさんある。

ポリレポ戦略でマニフェストやhelmチャートなど同じような設定が増える。

プラットフォーム設計導入のためにステークホルダーを巻き込む。

## 顧客価値向上による開発生産性向上

### 開発生産性とは？

- 投資に対するリターン
- fourkeys、space : 組織の改善
- 投資の最小化、リターンの最大化
    - フレームはどちらに貢献するのか？
    - 投資最小化 : 適切な投資をし、本来かかってた費用を減らす
    - リターン最大化 : アウトプットではなくアウトカム。何を作ったかではなく、どのような価値を生み出したか？
- 開発運用基盤にも適切な投資をしないとエンジニアが待ちになってしまう
- MTGを入れない、固めていれる。
- エンジニアリング資源は貴重

fourkeysは何に対してを決めないとエンジニアに無意味な作業をさせてしまう。ゴミを量産しても仕方ない。ただ、最初からゴミを作っているわけではない。いかに価値を出せるかという部分に注力していく。

価値は2つあり、事業価値と顧客価値がある。事業価値はKGIの最大化と戦略との整合性を取る。事業価値とは顧客に還元されるものなのでエンジニアもその視点を忘れてはならない。顧客価値はむしろエンジニアが高めなければならない。課題を解決した状態を生み出していく。上記2価値は相対するものではない。ネット広告等は事業価値を最大化できるが、顧客価値を捨てている場合はある。Googleとかは両立をさせている広告もある。

顧客に対する共感度を上げる。そこから解決策をmvp poc をつくり、そこから課題を産んで…というサイクルをやっていくをプロダクトディスカバリーという。

ソフトウェアエンジニアはコードの向こう側に顧客がいることを考えて欲しい。単なるソフトウェアではなく、顧客にとってどういう状況になれば嬉しいかを考えて欲しい。

プロダクトエンジニアリングとプラットフォームエンジニアリングの2チームがあり、プロダクトエンジニアリングは顧客、プラットフォームエンジニアリングは開発者にむけている。ただ両者とも顧客は存在する。プロダクトディスカバリーの考え方は重要です。

この構図は受託やSIも同じように考えて欲しい。本当にいいものを提供したいのならエンドユーザーへの理解をnじうけの人と一緒にやってく必要はある。

プラットフォームエンジニアリングにもプロダクトマネージャーのマインドセットを持った人はいる。

その開発は本当に顧客価値を高めるのかを考える必要がある。顧客の求める品質は3つあって一つは当たり前品質。これは当たり前でどれだけ上げても満足度がプラスに転嫁することはない。一般品質は高めればためるほどよい。魅力品質は当たれば顧客価値は高まる。当たり前品質をひたすらやっても仕方ない。

どこをこだわりどこをこだわらないか。プロダクトが何を価値として感じるか見極めが必要です。

プロダクトマネージャーはwhatをエンジニアはhowを考える。

ジョブ型雇用への勘違いとして、職務外のことはしないように捉えられることがある。サッカーではオフェンスだからそれ以外やらないことはない。勝つためにはいい意味で越境する。専門分野を持ちつつ、チームへの貢献をしてく。

事業サイドと開発サイドが対立するのはおかしく、全員が同じマインドセットをもって顧客に価値を提供する。

## 開発生産性向上のための監視運用の改善

### New Relicから

- 開発生産性が高い状況とは？→DevOpsが上手く回っている状況
- 障害が発生したら気がつける
- 必要情報を常日頃から誰でも特定できる状態

### DMMから

- DMMオンラインサロンでnew relicを入れた結果がどうなっているのか？
- DMMはなんでもやってます
- DMMオンラインサロン
    - 入会・管理システム
    - コミュニティツール
- SRE部の業務
    - DMMのすべてサービスとインフラストラクチャをソフトで最適化
    - 事業支援チーム、信頼性向上チーム
- 2020年からレガシー脱却
    - オンプレ → AWS EC2、コンテナ化
- クラウド最適化
    - CI/CDをCircleCIに移行
    - AWSをTerraForm化
- 監視ツールがバラバラ、インフラ・監視基盤がサイロ化、アプリケーションの状況把握に時間がかかる
    - new relicを活用した課題解決
    - new relicに統一、システム横断での状況把握ができる、学習コストが下がった
- 監視設定をセルフマネジメント
    - 監視設定をSaas化に伴い、自分たちで設定できるようになった
    - 設定をTerraform化

### DMM New Relic利用

- New Relic APM / Logsでアプリケーションの細かな動きが可視化
    - ブラウザから簡単に、システム横断でログ参照できるようになった
- new relicダッシュボードも活用
    - 朝会でダッシュボードを確認し、日々の異変に気がつける
    - 監視ツールを眺める会をしていた
        - 日々のエラー率、過去からの相対的な
        - デプロイメントマーカーを活用することでデプロイ前後の状況変化にも気づけるようになった
        - AWSアカウント毎に料金を可視化、想定外のコスト増に対応
- Runbookの活用
    - 確認方法のなどの手順などを用意して、心理的な不安を軽減した
- 想定効果と副次的な効果
    - 運用の最適化、細かいシステムの状態管理
    - 日々の変化に気付ける、初動対応が早くなった、より開発に集中できるようになった
- 障害件数が約73%削減

### DMM 今後の展望

- New Relicは当たり前に利用されている
- SLOを全社導入していく
- ユーザー満足度を上げる